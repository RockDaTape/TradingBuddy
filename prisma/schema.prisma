generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// ───── Your two models ─────

model Trade {
  id                BigInt    @id
  accountId         Int
  contractId        String
  creationTimestamp DateTime
  price             Float
  profitAndLoss     Float?
  fees              Float
  side              Int
  size              Int
  voided            Boolean
  orderId           BigInt
}

model Order {
  id                BigInt    @id
  accountId         Int
  contractId        String
  creationTimestamp DateTime
  updateTimestamp   DateTime?
  status            Int
  type              Int
  side              Int
  size              Int
  limitPrice        Float?
  stopPrice         Float?
}

/// ⬇ Your existing RLS‐protected table (leave untouched) ⬇

/// This model came from introspection and has row-level security enabled.
/// Prisma Migrate cannot manage RLS policies—those must be applied manually
/// via Supabase SQL migrations or console.
model rules {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at DateTime  @default(now()) @db.Timestamptz(6)
  content    String?   @default("")
  updated_at DateTime? @default(now()) @db.Timestamptz(6)
}
